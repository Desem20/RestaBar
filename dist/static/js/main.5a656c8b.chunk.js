(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{270:function(e,t,a){e.exports=a.p+"static/media/About.389a84ca.png"},271:function(e,t,a){e.exports=a.p+"static/media/meetRestaBar.c44c8251.png"},272:function(e,t,a){e.exports=a.p+"static/media/restaurateurs.d269baff.png"},273:function(e,t,a){e.exports=a.p+"static/media/customers.52fc6bcd.png"},284:function(e,t,a){e.exports=a(526)},289:function(e,t,a){},516:function(e,t){},517:function(e,t){},518:function(e,t){},526:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),s=(a(289),a(21)),o=a(52),i=function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(s.c,{to:"/Home"},"Home")),r.a.createElement("li",null,r.a.createElement(s.c,{to:"/About"},"About")),r.a.createElement("li",null,r.a.createElement(s.c,{to:"/SignIn"},"Sign In")),r.a.createElement("li",null,r.a.createElement(s.c,{to:"/SignUp"},"Sign Up")))},u=a(13),d=Object(u.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"}),e({type:"CLEAR_RESTAURANT"}),e({type:"CLEAR_ORDER"})})})}}})(function(e){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(s.c,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.c,{to:"/RestaBar"},"Create/Edit RestaBar")),r.a.createElement("li",null,r.a.createElement(s.c,{to:"/OrderStatus"},"Order Status")),r.a.createElement("li",null,r.a.createElement(s.c,{to:"/About"},"About")),r.a.createElement("li",null,r.a.createElement("a",{onClick:e.signOut},"Logout")),r.a.createElement("li",null,r.a.createElement(s.c,{to:"/",className:"btn btn-floating pink lighten-1"},e.profile.initials)))}),m=Object(u.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})(function(e){var t=e.auth,a=e.profile,n=t.uid?r.a.createElement(d,{profile:a}):r.a.createElement(i,null);return r.a.createElement("nav",{className:"nav-wrapper grey darken-4"},r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{to:"/",className:"brand-logo"},"RestaBar"),n))}),p=function(){return r.a.createElement("div",{className:"grey darken-4"},r.a.createElement("div",{className:"container center-align white-text"},"\xa9 2019 YM AA LH MZ"))},h=a(9),g=a(7),f=a(11),b=a(10),v=a(12),E=a(4),O=a(27),y=a(30),C=function(e){var t=e.handleChange,a=e.val;return console.log(a),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"restaurant"),r.a.createElement("input",{type:"text",id:"name",onChange:t,className:"validate",placeholder:"Business Name",value:a}))},j=function(e){var t=e.handleChange,a=e.val;return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"map"),r.a.createElement("input",{type:"text",id:"address",className:"validate",onChange:t,placeholder:"Address",value:a}))},N=function(e){var t=e.handleChange,a=e.val;return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"email"),r.a.createElement("input",{type:"email",id:"email",className:"validate",onChange:t,placeholder:"Email",value:a}))},S=function(e){var t=e.handleChange,a=e.val;return r.a.createElement("div",{className:"input-field ",length:"10"},r.a.createElement("i",{className:"material-icons prefix"},"message"),r.a.createElement("textarea",{cols:"20",wrap:"hard",id:"description",className:"materialize-textarea validate ",placeholder:"Business Description",value:a,onChange:t}))},k=a(556),w=a(557),A=a(263),P=a.n(A),T=Object(k.a)(function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}),x=function(e){var t=e.handleSubmit,a=T();return r.a.createElement("div",{className:"input-field right "},r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"next",className:a.fab},r.a.createElement(P.a,{onClick:t})))},R=function(e){var t=e.handleChange,a=e.val;return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"phone"),r.a.createElement("input",{type:"tel",id:"phone",className:"validate",pattern:"[0-9]{10}",placeholder:"phone",value:a,onChange:t}))},M=function(e){var t=e.handleChange,a=e.val;return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"http"),r.a.createElement("input",{type:"url",id:"website",className:"validate",value:a,placeholder:"website url",onChange:t}))},I=function(e){var t=e.handleChange,a=e.startTime,n=e.endTime;return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"access_time"),r.a.createElement("input",{type:"time",id:"startTime",className:"validate",onChange:t,placeholder:"Start Time",value:a}),r.a.createElement("input",{type:"time",id:"endTime",className:"validate",onChange:t,placeholder:"End Time",value:n}))},B=a(73),U=a.n(B),F=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFile:null,percentage:"0"},a.fileSelectedHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.fileUploaderHandler=function(){a.props.uploadLogo(a.state)},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.Percentage,t=null===this.state.selectedFile?"":r.a.createElement("div",{className:"center"},r.a.createElement("progress",{value:e,max:"100",id:"uploaderPic"},"0%"));return r.a.createElement("div",{className:"center row"},t,r.a.createElement("input",{type:"file",id:"fileButton",className:"lighten-2 col l10",filename:"upload",onChange:this.fileSelectedHandler}),r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"upload",className:"left"},r.a.createElement(U.a,{onClick:this.fileUploaderHandler})))}}]),t}(n.Component),_=Object(u.b)(function(e){return{Percentage:e.restaurant.percentage}},function(e){return{uploadLogo:function(t){return e(function(e){return function(t,a,n){var r=(0,n.getFirebase)(),l=a().firebase.profile.res_id,c="restaurantsLogo/".concat(l,"/logo");return console.log("logoexample",e.selectedFile),r.storage().ref(c).put(e.selectedFile).on("state_changed",function(e){var a=e.bytesTransferred/e.totalBytes*100;t({type:"UPLOAD_LOGO",payload:a})},function(e){},function(){})}}(t))}}})(F),D=a(63),L=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={files:[],selectedFile:null,percentage:"0"},a.fileSelectedHandler=function(e){a.setState({files:[].concat(Object(D.a)(a.state.files),Object(D.a)(e.target.files))},function(){console.log("files",a.state.files)})},a.fileUploaderHandler=function(){console.log("this.statefiles",a.state),a.props.uploadPhotos(a.state.files)},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.images!==e.images&&this.props.images&&(console.log("this.props.images",this.props.images),this.props.handleImages(this.props.images))}},{key:"render",value:function(){var e=this.props.Percentage,t=null===this.state.selectedFile?"":r.a.createElement("div",{className:"center"},r.a.createElement("progress",{value:e,max:"100",id:"uploaderPic"},"0%"));return r.a.createElement("div",{className:"center row"},t,r.a.createElement("input",{type:"file",multiple:!0,id:"images",className:"lighten-2 col l10",filename:"upload",onChange:this.fileSelectedHandler}),r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"upload",className:"left"},r.a.createElement(U.a,{onClick:this.fileUploaderHandler})))}}]),t}(n.Component),W=Object(u.b)(function(e){return{images:e.restaurant.images,Percentage:e.restaurant.imagesPercentage}},function(e){return{uploadPhotos:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase;console.log("filesfiles",e),console.log("fileslength",e.length);var l=r(),c=a().firebase.profile.res_id,s="restaurantsPhotos/".concat(c,"/photos"),o=[],i=0;e.forEach(function(a){var n=Math.random();return l.storage().ref("".concat(s,"/").concat(n)).put(a).on("state_changed",function(a){var n=100/e.length*i+a.bytesTransferred/a.totalBytes*100/e.length;t({type:"PERCENTAGE_PHOTOS",payload:n})},function(){},function(){return l.storage().ref("".concat(s,"/").concat(n)).getDownloadURL().then(function(a){if(o.push({img:a,key:n}),i++,e.length===i)return t({type:"UPLOAD_PHOTOS",payload:o}),o})})})}}(t))}}})(L),z=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state=void 0===a.props.restaurant?{name:"",address:"",email:"",description:"",phone:"",website:"",startTime:"",endTime:"",images:[]}:a.props.restaurant,a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a.handleImages=function(e){console.log("imagesUntilHere",e),a.setState(Object(E.a)({},a.state,{images:e}))},a.handleSubmit=function(e){e.preventDefault(),a.props.createRestaurant(a.state),console.log(a.props),console.log(a.props.firebase),a.props.changeComponent("Menu")},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){this.props.currentRestaurant()}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.restaurant!==e.restaurant&&this.props.restaurant){console.log("formprops",this.props);var n=this.props.restaurant;this.setState({name:n.name,address:n.address,email:n.email,description:n.description,phone:n.phone,website:n.website,startTime:n.startTime,endTime:n.endTime,images:n.images})}}},{key:"render",value:function(){return console.log("s",this.state),console.log("h",this.props),r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:"center",style:{marginBottom:"30px"}},"Create Your RestaBar"),r.a.createElement("div",{className:"col s12 l8 offset-l2  grey lighten-4"},r.a.createElement("h3",null),r.a.createElement("form",{style:{marginBottom:"20px"}},r.a.createElement(C,{handleChange:this.handleChange.bind(this),val:this.state.name}),r.a.createElement(j,{handleChange:this.handleChange.bind(this),val:this.state.address}),r.a.createElement(N,{handleChange:this.handleChange.bind(this),val:this.state.email}),r.a.createElement(S,{handleChange:this.handleChange.bind(this),val:this.state.description}),r.a.createElement(R,{handleChange:this.handleChange.bind(this),val:this.state.phone}),r.a.createElement(M,{handleChange:this.handleChange.bind(this),val:this.state.website}),r.a.createElement("label",{style:{fontSize:"10px"}},"Restaurant Hours:"),r.a.createElement(I,{handleChange:this.handleChange.bind(this),startTime:this.state.startTime,endTime:this.state.endTime}),r.a.createElement("label",{style:{fontSize:"10px"}},"Restaurant Logo:")," ",r.a.createElement(_,null),r.a.createElement("label",{style:{fontSize:"10px"}},"Restaurant Photos:")," ",r.a.createElement(W,{handleImages:this.handleImages.bind(this)}),r.a.createElement(x,{handleSubmit:this.handleSubmit.bind(this)})))))}}]),t}(n.Component),H=Object(y.d)(Object(u.b)(function(e){return{restaurant:e.restaurant.restaurant}},function(e){return{createRestaurant:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirebase)();console.log("fir",r);var l=t().firebase.auth.uid;r.database().ref("BusinessUsers/".concat(l,"/res_id")).once("value").then(function(t){return r.update("Restaurants/".concat(t.val()),{name:a.name,address:a.address,email:a.email,description:a.description,phone:a.phone,website:a.website,startTime:a.startTime,endTime:a.endTime,images:a.images}).then(e({type:"CREATE_RESTAURANT",payload:a}))})}));var a},currentRestaurant:function(){return e(function(e,t,a){var n=a.getFirebase,r=t().firebase.auth.uid,l=n();l.database().ref("BusinessUsers/".concat(r,"/res_id")).once("value").then(function(t){return l.ref("Restaurants/".concat(t.val())).on("value",function(t){console.log("snapshottRes",t.val()),t.val()&&e({type:"CREATE_RESTAURANT",payload:t.val()})})})})}}}),o.g)(z),G=function(e){var t=e.handleChange,a=e.val,n=e.error;return console.log("perror",n),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"restaurant"),r.a.createElement("label",{htmlFor:"name"},"Plate Name"),r.a.createElement("input",{type:"text",id:"name",onChange:t,value:a,placeholder:""}),r.a.createElement("span",{className:"error red"},n))},Y=a(264),X=a.n(Y),J=a(265),q=a.n(J),$=Object(k.a)(function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}),K=function(e){var t=e.plates,a=e.deletePlate,n=e.editPlate;console.log("start-plates",t);var l=$(),c=t.length>0?t.map(function(e){return console.log("ppplate",e),r.a.createElement("div",{className:"collection-item",key:e.id},r.a.createElement("div",{className:"input-field right "},r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"delete",className:l.fab},r.a.createElement(X.a,{onClick:function(){a(e.id)}}))),r.a.createElement("div",{className:"input-field right "},r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"edit",className:l.fab},r.a.createElement(q.a,{onClick:function(t){n(t,e.id)}}))),r.a.createElement("img",{className:"left",src:e.img,style:{width:"90px",height:"90px",marginRight:"10px"}}),r.a.createElement("h4",null,"Plate: ",e.name),r.a.createElement("h6",null,"Description: ",e.description),r.a.createElement("h6",null,e.price,"$ "))}):r.a.createElement("p",{className:"center"}," There are no plates!");return console.log("q",c),r.a.createElement("div",{className:"plates collection"},c)},V=function(e){var t=e.handleChange,a=e.val,n=e.error;return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"message"),r.a.createElement("textarea",{id:"description",value:a,className:"materialize-textarea ",onChange:t}),r.a.createElement("label",{htmlFor:"description"},"Plate Description"),r.a.createElement("span",{className:" red error"},n))},Z=function(e){var t=e.handleChange,a=e.val,n=e.error;return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"attach_money"),r.a.createElement("input",{type:"number",value:a,id:"price",pattern:"[0-9]{4}",onChange:t}),r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("span",{className:"error red"},n))},Q=a(171),ee=a.n(Q),te=a(267),ae=a.n(te),ne=a(266),re=a.n(ne),le=Object(k.a)(function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}),ce=function(e){var t=e.edit,a=e.handleAdd,n=e.handleDoneButton,l=e.handleSave,c=e.handleCancel,s=le(),o=!0===t?r.a.createElement("div",null,r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"cancel",className:s.fab},r.a.createElement(re.a,{onClick:c})),r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"add",className:s.fab},r.a.createElement(ee.a,{onClick:l}))):r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"add",className:s.fab},r.a.createElement(ee.a,{onClick:a}));return console.log("lala",o),r.a.createElement("div",{className:"input-field center "},o,r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"save",className:s.fab},r.a.createElement(ae.a,{onClick:n})))},se=a(116),oe=a.n(se),ie=Object(k.a)(function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}),ue=function(e){var t=e.handleBackButton,a=ie();return r.a.createElement("div",{className:"input-field left "},r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"back",className:a.fab},r.a.createElement(oe.a,{onClick:t})))},de=a(87),me=a(566),pe=a(569),he=a(570),ge=a(568),fe=Object(k.a)(function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(0)},group:{margin:e.spacing(0,0)}}});function be(e){var t=e.handleCategory,a=e.category,n=e.error;console.log("categorycaty",a);var l=fe(),c=r.a.useState({Starters:null,Mains:null,Desserts:null,Other:null}),s=Object(de.a)(c,2),o=(s[0],s[1]);return r.a.createElement("div",{className:l.root},r.a.createElement(ge.a,{component:"fieldset",className:l.formControl},r.a.createElement(pe.a,{row:!0,className:l.group,value:"".concat(a),onChange:function(e){o(e.target.value),e.target.checked&&(t(e),console.log("c",e.target.value))}},r.a.createElement(he.a,{value:"Starters",control:r.a.createElement(me.a,null),label:"Starters"}),r.a.createElement(he.a,{value:"Mains",control:r.a.createElement(me.a,null),label:"Mains"}),r.a.createElement(he.a,{value:"Desserts",control:r.a.createElement(me.a,null),label:"Desserts"}),r.a.createElement(he.a,{value:"Other",control:r.a.createElement(me.a,null),label:"Other"}))),r.a.createElement("span",{className:"error red"},n))}var ve=function(e){var t=e.handleChange,a=e.val;return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"category"),r.a.createElement("textarea",{id:"category",value:a,className:"materialize-textarea validate ",onChange:t}),r.a.createElement("label",{htmlFor:"category"},"Plate Category"))},Ee=Object(k.a)(function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}),Oe=function(e){var t=e.menu,a=e.deletePlate,n=e.editPlate,l=(Ee(),Object.keys(t));console.log("Beforekkkkeeeyyy",l);var c=l.length>0?l.map(function(e){return t[e].plates.length,console.log("kkkkkk",t[e]),t[e].plates.length>0?r.a.createElement("div",{className:"collection-item",key:Math.random()},r.a.createElement("h3",null,e),r.a.createElement(K,{plates:t[e].plates,deletePlate:a(e),editPlate:n(e)})):r.a.createElement("div",{key:Math.random()})}):r.a.createElement("p",{className:"center"}," There are no categories!");return console.log("kkkkeeeyyy",l),console.log("cl",c),r.a.createElement("div",{className:"category collection"},c)},ye=(a(296),a(62)),Ce=a(18),je=a(258);a(519),a(521),a(524),a(527);je.initializeApp({apiKey:"AIzaSyB_WYCY2h3kRkwyCaW4PwuXfAvmVz0y5WM",authDomain:"restabar-dc6df.firebaseapp.com",databaseURL:"https://restabar-dc6df.firebaseio.com",projectId:"restabar-dc6df",storageBucket:"restabar-dc6df.appspot.com",messagingSenderId:"903851098197"});var Ne,Se=je,ke="rgba(150, 111, 51, 0.7)",we="#694d23",Ae="rgba(0, 0, 0, 0.4) 3px 3px 7px",Pe=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).AddRectangleToCanvas=function(){var e=a.addRect(0,0,60,60);a.props.canvas.setActiveObject(e)},a.addRect=function(e,t,n,r){var l=a.props.number,c=a.props.generateId(),s=new Ce.fabric.Rect({width:n,height:r,fill:ke,stroke:we,strokeWidth:2,shadow:Ae,originX:"center",originY:"center",centeredRotation:!0,snapAngle:45,selectable:!0}),o=new Ce.fabric.IText(l.toString(),{fontFamily:"Calibri",fontSize:14,fill:"#fff",textAlign:"center",originX:"center",originY:"center"}),i=new Ce.fabric.Group([s,o],{left:e,top:t,centeredRotation:!0,snapAngle:45,selectable:!0,id:c,Type:"table",number:l});return a.props.canvas.add(i),a.props.addNumber(),i},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-primary rectangle",onClick:this.AddRectangleToCanvas},"+ \u25af Table")}}]),t}(n.Component),Te=Object(u.b)(function(e){return{}},function(e){return{}})(Pe),xe=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).AddCircleToCanvas=function(){var e=a.addCircle(0,0,30);a.props.canvas.setActiveObject(e)},a.addCircle=function(e,t,n){var r=a.props.number,l=a.props.generateId(),c=new Ce.fabric.Circle({radius:n,fill:ke,stroke:we,strokeWidth:2,shadow:Ae,originX:"center",originY:"center",centeredRotation:!0}),s=new Ce.fabric.IText(r.toString(),{fontFamily:"Calibri",fontSize:14,fill:"#fff",textAlign:"center",originX:"center",originY:"center"}),o=new Ce.fabric.Group([c,s],{left:e,top:t,centeredRotation:!0,snapAngle:45,selectable:!0,id:l,Type:"table",number:r});return a.props.canvas.add(o),a.props.addNumber(),o},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-primary circle",onClick:this.AddCircleToCanvas},"+ \u25ef Table")}}]),t}(n.Component),Re=Object(u.b)(function(e){return{}},function(e){return{}})(xe),Me=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).AddTriangleToCanvas=function(){var e=a.addTriangle(0,0,30);a.props.canvas.setActiveObject(e)},a.addTriangle=function(e,t,n){var r=a.props.number,l=a.props.generateId(),c=new Ce.fabric.Triangle({radius:n,fill:ke,stroke:we,strokeWidth:2,shadow:Ae,originX:"center",originY:"center",centeredRotation:!0}),s=new Ce.fabric.IText(r.toString(),{fontFamily:"Calibri",fontSize:14,fill:"#fff",textAlign:"center",originX:"center",originY:"center"}),o=new Ce.fabric.Group([c,s],{left:e,top:t,centeredRotation:!0,snapAngle:45,selectable:!0,id:l,Type:"table",number:r});return a.props.canvas.add(o),a.props.addNumber(),o},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-primary triangle",onClick:this.AddTriangleToCanvas},"+ \u25b3 Table")}}]),t}(n.Component),Ie=Object(u.b)(function(e){return{}},function(e){return{}})(Me),Be="rgba(0, 93, 127, 0.7)",Ue="#003e54",Fe="rgba(0, 0, 0, 0.4) 3px 3px 7px",_e="Bar",De=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).AddBarToCanvas=function(){var e=a.addBar(0,0,180,60);a.props.canvas.setActiveObject(e)},a.addBar=function(e,t,n,r){var l=new Ce.fabric.Rect({width:n,height:r,fill:Be,stroke:Ue,strokeWidth:2,shadow:Fe,originX:"center",originY:"center",Type:"bar",id:a.props.generateId()}),c=new Ce.fabric.IText(_e,{fontFamily:"Calibri",fontSize:14,fill:"#fff",textAlign:"center",originX:"center",originY:"center"}),s=new Ce.fabric.Group([l,c],{left:e,top:t,centeredRotation:!0,snapAngle:45,selectable:!0});return a.props.canvas.add(s),s},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-primary bar",onClick:this.AddBarToCanvas},"+ Bar")}}]),t}(n.Component),Le=Object(u.b)(function(e){return{}},function(e){return{}})(De),We="rgba(67, 42, 4, 0.7)",ze="#32230b",He="rgba(0, 0, 0, 0.4) 3px 3px 7px",Ge=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).AddChairToCanvas=function(){var e=a.addChair(0,0);a.props.canvas.setActiveObject(e)},a.addChair=function(e,t,n,r){var l=new Ce.fabric.Rect({left:e,top:t,width:30,height:30,fill:We,stroke:ze,strokeWidth:2,shadow:He,originX:"left",originY:"top",centeredRotation:!0,snapAngle:45,selectable:!0,Type:"chair",id:a.props.generateId()});return console.log(a.props.canvas),a.props.canvas.add(l),l},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-primary chair",onClick:this.AddChairToCanvas},"+ Chair")}}]),t}(n.Component),Ye=Object(u.b)(function(e){return{}},function(e){return{}})(Ge),Xe=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).RemoveFromCanvas=function(){console.log("lkj",a.props);var e=a.props.canvas.getActiveObject();e&&(a.props.canvas.remove(e),a.props.canvas.discardActiveObject(),a.props.canvas.renderAll()),a.props.removeTable(e.number)},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-danger remove",onClick:this.RemoveFromCanvas},"Remove ")}}]),t}(n.Component),Je=Object(u.b)(function(e){return{}},function(e){return{}})(Xe),qe="rgba(136, 136, 136, 0.7)",$e="#686868",Ke="rgba(0, 0, 0, 0.4) 5px 5px 20px",Ve=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).AddWallToCanvas=function(){var e=a.addWall(0,0,60,180);a.props.canvas.setActiveObject(e)},a.addWall=function(e,t,n,r){var l=new Ce.fabric.Rect({left:e,top:t,width:n,height:r,fill:qe,stroke:$e,strokeWidth:2,shadow:Ke,originX:"left",originY:"top",centeredRotation:!0,snapAngle:45,selectable:!0,id:a.props.generateId()});return a.props.canvas.add(l),l},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-default wall",onClick:this.AddWallToCanvas},"+ Wall")}}]),t}(n.Component),Ze=Object(u.b)(function(e){return{}},function(e){return{}})(Ve),Qe=a(269),et=a.n(Qe),tt=Object(k.a)(function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}),at=function(e){var t=e.handleBackButton,a=e.handleUploadStorage,n=tt();return r.a.createElement("div",{className:"input-field center "},r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"back",className:n.fab},r.a.createElement(oe.a,{onClick:t})),r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"upload",className:n.fab},r.a.createElement(et.a,{onClick:a})))},nt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state=void 0===a.props.restaurant?{name:"",address:"",email:"",description:"",phone:"",website:"",startTime:"",endTime:""}:a.props.restaurant,a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return console.log("s",this.state),console.log("h",this.props),r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 l8 offset-l2  grey lighten-4"},r.a.createElement("h3",null," "),r.a.createElement("label",{className:"center",style:{marginTop:"100px",height:"60px",fontSize:"40px"}},"Congratulations!!"),r.a.createElement("h4",null,"You have finished to create you RestaBar."),r.a.createElement("h5",null,"From now on, your customers can enjoy fast and efficient mobile direct order service."),r.a.createElement("h5",{style:{marginBottom:"200px"}},'To handle existing orders, please press on "Order Status"'),r.a.createElement("form",null))))}}]),t}(n.Component),rt=30,lt="#ebebeb",ct=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={width:void 0===a.props.seatMap?302:a.props.seatMap.width,height:void 0===a.props.seatMap?812:a.props.seatMap.height,canvas:"",number:0,tables:[]},a.generateId=function(){return Math.random().toString(36).substr(2,8)},a.addNumber=function(){var e=a.state.number,t=a.state.tables;console.log(a.state),console.log(t),t.push(e),e++,a.setState(Object(E.a)({},a.state,{number:e,tables:t})),console.log(a.state)},a.removeTable=function(e){console.log("removeTablenumber",e);var t=a.state.tables.filter(function(t){return t!==e});console.log("newTables",t),a.setState(Object(E.a)({},a.state,{tables:t}))},a.addSquares=function(){for(var e=0;e<Ne.height/rt;e++){var t=new Ce.fabric.Line([0,e*rt,Ne.height,e*rt],{stroke:lt,selectable:!1,type:"line"}),n=new Ce.fabric.Line([e*rt,0,e*rt,Ne.height],{stroke:lt,selectable:!1,type:"line"});a.sendLinesToBack(),Ne.add(t),Ne.add(n)}},a.sendLinesToBack=function(){Ne.getObjects().map(function(e){"line"===e.type&&Ne.sendToBack(e)})},a.snapToGrid=function(e){e.set({left:Math.round(e.left/(rt/2))*rt/2,top:Math.round(e.top/(rt/2))*rt/2})},a.checkBoudningBox=function(e){console.log("lllll");var t=e.target;if(t){t.setCoords();var a=t.getBoundingRect();a.top<0&&(t.set("top",0),t.setCoords()),a.left>Ne.width-a.width&&(t.set("left",Ne.width-a.width),t.setCoords()),a.top>Ne.height-a.height&&(t.set("top",Ne.height-a.height),t.setCoords()),a.left<0&&(t.set("left",0),t.setCoords())}},a.initOnObserve=function(){Ne.on("object:moving",function(e){a.snapToGrid(e.target)}),Ne.on("object:scaling",function(e){e.target.scaleX>5&&(e.target.scaleX=5),e.target.scaleY>5&&(e.target.scaleY=5),!e.target.strokeWidthUnscaled&&e.target.strokeWidth&&(e.target.strokeWidthUnscaled=e.target.strokeWidth),e.target.strokeWidthUnscaled&&(e.target.strokeWidth=e.target.strokeWidthUnscaled/e.target.scaleX,e.target.strokeWidth===e.target.strokeWidthUnscaled&&(e.target.strokeWidth=e.target.strokeWidthUnscaled/e.target.scaleY))}),Ne.on("object:modified",function(e){e.target.scaleX=e.target.scaleX>=.25?Math.round(2*e.target.scaleX)/2:.5,e.target.scaleY=e.target.scaleY>=.25?Math.round(2*e.target.scaleY)/2:.5,a.snapToGrid(e.target),"table"===e.target.Type?Ne.bringToFront(e.target):Ne.sendToBack(e.target),a.sendLinesToBack()}),Ne.observe("object:moving",function(e){a.checkBoudningBox(e)}),Ne.observe("object:rotating",function(e){a.checkBoudningBox(e)}),Ne.observe("object:scaling",function(e){a.checkBoudningBox(e)})},a.handleBackButton=function(){a.props.changeComponent("Menu")},a.handleUploadStorage=function(){a.props.createSeatMap(Object(E.a)({},a.state)),a.props.history.push("/Finish")},a.initCanvas=function(){Ne&&(Ne.clear(),Ne.dispose(),Ne.remove())},a.HeightAndWidth=function(e){var t=parseInt(e.target.value,"10");a.setState(Object(E.a)({},a.state,Object(O.a)({},e.target.id,t))),console.log("widthhh",e.target.value),console.log("wid",a.state)},a.CanvasSizeChanged=function(e){a.initCanvas(),a.componentDidMount()},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(console.log("componentDidUpdate()",this.state),console.log("componentDidUpdate()p",this.props.seatMap),this.props.seatMap!==e.seatMap&&this.props.seatMap){var r=this.props.seatMap;this.setState(Object(E.a)({},this.state,{width:r.width,height:r.height}),function(){n.initCanvas(),(Ne=new Ce.fabric.Canvas("canvas")).backgroundColor="#f8f8f8",n.initOnObserve(),Ne.loadFromJSON(r.canvas),n.setState(Object(E.a)({},n.state,{canvas:Ne,number:r.number,tables:r.tables}))})}console.log("afterstate",this.state)}},{key:"componentWillMount",value:function(){console.log("componentWillMount()"),this.props.currentSeatMap()}},{key:"componentDidMount",value:function(){if(console.log("componentDidMount()"),this.props.seatMap){if(this.props.seatMap){Ne=new Ce.fabric.Canvas("canvas");var e=this.props.seatMap;Ne.loadFromJSON(e.canvas),this.setState(Object(E.a)({},this.state,{canvas:Ne,number:e.number,tables:e.tables}))}}else(Ne=new Ce.fabric.Canvas("canvas")).backgroundColor="#f8f8f8",console.log("dcs",Ne),console.log("dcsdddd",this.props),this.initOnObserve(),this.setState(Object(E.a)({},this.state,{canvas:Ne}))}},{key:"render",value:function(){return console.log(this.props.seatMap),r.a.createElement("div",{id:"SeatMap"},r.a.createElement("div",{className:"container-fluid text-center"},r.a.createElement("h1",{className:"center",style:{marginBottom:"30px"}},"Seat Map"),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2 col-sm-offset-3 form-group"},r.a.createElement("label",null,"Width (px)"),r.a.createElement("input",{type:"number",id:"width",className:"form-control",onChange:this.HeightAndWidth,value:this.state.width})),r.a.createElement("div",{className:"col-sm-2 form-group"},r.a.createElement("label",null,"Height (px)"),r.a.createElement("input",{type:"number",id:"height",className:"form-control",onChange:this.HeightAndWidth,value:this.state.height})),r.a.createElement("div",{className:"col-sm-2 form-group"},r.a.createElement("label",null,"\xa0"),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-primary",onClick:this.CanvasSizeChanged},"Save"))),r.a.createElement("div",{className:"btn-group"},r.a.createElement(Te,{canvas:this.state.canvas,number:this.state.number,addNumber:this.addNumber.bind(this),generateId:this.generateId}),r.a.createElement(Re,{canvas:this.state.canvas,number:this.state.number,addNumber:this.addNumber.bind(this),generateId:this.generateId}),r.a.createElement(Ie,{canvas:this.state.canvas,number:this.state.number,addNumber:this.addNumber.bind(this),generateId:this.generateId}),r.a.createElement(Ye,{canvas:this.state.canvas,generateId:this.generateId}),r.a.createElement(Le,{canvas:this.state.canvas,generateId:this.generateId}),r.a.createElement(Ze,{canvas:this.state.canvas,generateId:this.generateId}),r.a.createElement(Je,{canvas:this.state.canvas,removeTable:this.removeTable.bind(this)}))),r.a.createElement("canvas",{id:"canvas",width:this.state.width,height:this.state.height}),r.a.createElement(at,{handleBackButton:this.handleBackButton.bind(this),handleUploadStorage:this.handleUploadStorage.bind(this)})))}}]),t}(n.Component),st=Object(y.d)(Object(u.b)(function(e){return{seatMap:e.restaurant.seatMap}},function(e){return{createSeatMap:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase;console.log("actionCan",a.canvas),console.log("SeatMap",a);var l=r(),c=t().firebase.auth.uid;l.database().ref("BusinessUsers/".concat(c,"/res_id")).once("value").then(function(t){var n=t.val(),r="restaurantsSeatMap/".concat(n,"/SeatMap"),c=a.canvas.toJSON();console.log("canvasJson",a.canvas.toJSON()),console.log("loadFromJSON",a.canvas.loadFromJSON(c)),l.storage().ref(r).putString(a.canvas.toDataURL(),"data_url").then(l.set("SeatMap/".concat(n),Object(E.a)({},a,{canvas:c}))).then(e({type:"CREATE_SEATMAP",payload:Object(E.a)({},a,{canvas:c})}))})}));var a},currentSeatMap:function(){return e(function(e,t,a){var n=(0,a.getFirebase)(),r=t().firebase.auth.uid;n.database().ref("BusinessUsers/".concat(r,"/res_id")).once("value").then(function(t){var a=t.val();n.ref("SeatMap/".concat(a)).on("value",function(t){console.log("snapshot",t.val()),t.val()&&e({type:"CREATE_SEATMAP",payload:t.val()})})})})}}}),o.g)(ct),ot=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFile:null,percentage:"0",uploaded:null},a.fileSelectedHandler=function(e){a.setState({selectedFile:e.target.files[0].name}),!0===a.props.edit?a.props.changeImg(e):a.props.changeNameImg(e.target.files[0]),e.target.value=null,a.setState({uploaded:null})},a.fileUploaderHandler=function(){a.setState({selectedFile:null}),a.setState({uploaded:"Uploaded"})},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.Percentage,t=null!==this.state.uploaded?this.state.uploaded:this.state.selectedFile;console.log("labelll",this.state.selectedFile);var a=null===this.state.selectedFile?"":r.a.createElement("div",{className:"center"},r.a.createElement("progress",{value:e,max:"100",id:"uploaderPic"},"0%"));return r.a.createElement("div",{className:"center row"},a,r.a.createElement("input",{type:"file",id:"uploadPicButton",className:" lighten-2 col",filename:"uploadPic",onChange:this.fileSelectedHandler,required:!0}),t,r.a.createElement(w.a,{size:"small",color:"primary","aria-label":"upload",className:"left"},r.a.createElement(U.a,{onClick:this.fileUploaderHandler})))}}]),t}(n.Component),it=Object(u.b)(function(e){return{Percentage:e.restaurant.percentage}},function(e){return{uploadPlatePhoto:function(t){return e(function(e){return function(t,a,n){var r=(0,n.getFirebase)(),l=a().firebase.profile.res_id,c=a().firebase.profile.res_id.plate_id,s="platePhoto/".concat(l,"/").concat(c,"/logo");return r.storage().ref(s).put(e.selectedFile).on("state_changed",function(e){var a=e.bytesTransferred/e.totalBytes*100;t({type:"UPLOAD_PLATE_PHOTO",payload:a})},function(e){},function(){})}}(t))}}})(ot),ut=(a(258),"Plate Name must be at least 2 characters long!"),dt="Plate Description must be at least 2 characters long!",mt="Price must be at least 1 numeric character long!",pt="At least 1 Category must be chosen!",ht=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={other:"",edit:null,currentPlate:{id:null,name:"",description:"",price:"",category:"",img:""},currentPlateError:{name:"",description:"",price:"",category:""},Menu:void 0===a.props.menu?{}:a.props.menu,currentImg:null},a.handleDoneButton=function(e){a.props.createRestaurantMenu(a.state),console.log(a.props),a.props.changeComponent("SeatMap")},a.handleBackButton=function(){a.props.changeComponent("Form")},a.handleChange=function(e){var t=e.target.id,n=e.target.value;console.log("tar",e.target.id),a.setState(function(e){return Object(E.a)({},e,{currentPlate:Object(E.a)({},e.currentPlate,Object(O.a)({},t,n))})})},a.handleCategory=function(e){e.preventDefault();var t="Other"===e.target.value?"":e.target.value;a.setState(Object(E.a)({},a.state,{currentPlate:Object(E.a)({},a.state.currentPlate,{category:t}),other:e.target.value})),console.log("target",e.target.value),console.log("category2",a.state.currentPlate)},a.handleChangeImg=function(e){var t=e.target.files[0],n=a.state.currentPlate.id;console.log("pictureeeeeee",a.state.currentPlate),console.log("this.state.currentPlate.img",a.state.currentPlate.img),a.setState(Object(E.a)({},a.state,{currentPlate:Object(E.a)({},a.state.currentPlate,{img:t})})),console.log("picccc",a.state.currentPlate),a.props.createImg(t,n).then(function(e){a.setState(Object(E.a)({},a.state,{currentPlate:Object(E.a)({},a.state.currentPlate,{img:a.props.currentImg}),currentPlateError:{}}))})},a.clearFields=function(){a.setState({currentPlate:{id:null,name:"",description:"",price:"",category:"",img:""}})},a.handleCancel=function(e){e.preventDefault(),a.setState({edit:null}),a.clearFields()},a.fieldsFilled=function(){var e={},t=!0;return a.state.currentPlate.name.length<2&&(e=Object(E.a)({},e,{name:ut}),t=!1),a.state.currentPlate.description.length<2&&(e=Object(E.a)({},e,{description:dt}),t=!1),a.state.currentPlate.price.length<1&&(e=Object(E.a)({},e,{price:mt}),t=!1),a.state.currentPlate.category.length<1&&(e=Object(E.a)({},e,{category:pt}),t=!1),console.log("currentError",e),a.setState(Object(E.a)({},a.state,{currentPlateError:e})),console.log("this.statecurrentError",a.state),t},a.handleAdd=function(e){if(e.preventDefault(),a.fieldsFilled()){var t=Math.random();a.props.createImg(a.state.currentPlate.img,t).then(function(e){console.log("result-result-result",e),a.setState(Object(E.a)({},a.state,{currentPlate:Object(E.a)({},a.state.currentPlate,{id:t,img:a.props.currentImg}),currentPlateError:{}})),a.addPlate(a.state.currentPlate)})}},a.handleSave=function(e){e.preventDefault();var t=a.state.currentPlate.category,n=a.state.currentPlate.id,r=a.state.currentPlate;delete r.category;var l=a.state.Menu[t].plates.map(function(e){return e.id===n?r:e});a.setState(function(e){return Object(E.a)({},e,{edit:null,Menu:Object(E.a)({},e.Menu,Object(O.a)({},t,{plates:l}))})}),a.clearFields()},a.editPlate=function(e){return function(t,n){t.preventDefault();var r=a.state.Menu[e].plates.filter(function(e){return e.id===n});r[0].category=e,a.setState({edit:!0,currentPlate:r[0]})}},a.deletePlate=function(e){return function(t){var n=a.state.Menu[e].plates.filter(function(e){return e.id!==t});a.setState(function(t){return Object(E.a)({},t,{Menu:Object(E.a)({},t.Menu,Object(O.a)({},e,{plates:n}))})}),a.props.deleteImg(t)}},a.addPlate=function(e){var t=e.category,n=e;delete n.category;var r=void 0===a.state.Menu[t]?[n]:[].concat(Object(D.a)(a.state.Menu[t].plates),[n]);a.setState({Menu:Object(E.a)({},a.state.Menu,Object(O.a)({},t,{plates:r}))}),a.clearFields()},a.updateImg=function(e){a.setState(Object(E.a)({},a.state,{currentPlate:Object(E.a)({},a.state.currentPlate,{img:e})}))},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){console.log("componentWillMount()"),this.props.currentRestaurantMenu()}},{key:"componentDidUpdate",value:function(e,t,a){console.log("componentDidUpdate()",this.state),console.log("componentDidUpdate()p",this.props.menu),this.props.menu!==e.menu&&this.props.menu&&this.setState(Object(E.a)({},this.state,{Menu:this.props.menu}))}},{key:"render",value:function(){console.log("this.statethis.state",this.state);void 0===this.props.menu?this.state.Menu:this.props.menu;var e="Other"===this.state.other?r.a.createElement(ve,{val:this.state.currentPlate.category||"",handleChange:this.handleChange.bind(this)}):"";return console.log("menu-state",this.state.currentPlate.category),console.log("this.state.Menu",this.state.Menu),r.a.createElement("section",{className:"section container scrollspy ",id:"Menu"},r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:"center",style:{marginBottom:"30px"}},"Menu"),r.a.createElement("div",{className:"col s12 l8 offset-l2  grey lighten-4",style:{marginBottom:"50px"}},r.a.createElement("form",null,r.a.createElement("h1",null,"Menu"),r.a.createElement(Oe,{menu:this.state.Menu,deletePlate:this.deletePlate,editPlate:this.editPlate}),r.a.createElement(G,{val:this.state.currentPlate.name||"",handleChange:this.handleChange.bind(this),error:this.state.currentPlateError.name}),r.a.createElement(V,{val:this.state.currentPlate.description||"",handleChange:this.handleChange.bind(this),error:this.state.currentPlateError.description}),r.a.createElement(Z,{val:this.state.currentPlate.price||"",handleChange:this.handleChange.bind(this),error:this.state.currentPlateError.price}),r.a.createElement(be,{category:this.state.currentPlate.category,handleCategory:this.handleCategory.bind(this),error:this.state.currentPlateError.category}),e,r.a.createElement("label",{style:{fontSize:"10px"}},"Picture:")," ",r.a.createElement(it,{edit:this.state.edit,changeNameImg:this.updateImg.bind(this),changeImg:this.handleChangeImg.bind(this)})," ",r.a.createElement(ce,{edit:this.state.edit,handleAdd:this.handleAdd.bind(this),handleDoneButton:this.handleDoneButton.bind(this),handleSave:this.handleSave.bind(this),handleCancel:this.handleCancel.bind(this)}),r.a.createElement(ue,{handleBackButton:this.handleBackButton.bind(this)})))))}}]),t}(n.Component),gt=Object(y.d)(Object(u.b)(function(e){return console.log("mapStateToProps",e),{menu:e.restaurant.menu,currentImg:e.restaurant.currentImg}},function(e,t){return console.log("ownProps",t),{createRestaurantMenu:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirebase)(),l=t().firebase.auth.uid;r.database().ref("BusinessUsers/".concat(l,"/res_id")).once("value").then(function(e){var t=e.val();r.set("Menu/".concat(t),{Categories:a.Menu}),console.log(a.Menu)})}));var a},currentRestaurantMenu:function(){return e(function(e,t,a){var n=(0,a.getFirebase)(),r=t().firebase.auth.uid;n.database().ref("BusinessUsers/".concat(r,"/res_id")).once("value").then(function(t){var a=t.val();n.ref("Menu/".concat(a,"/Categories")).on("value",function(t){var a=t.val();console.log("snapshot",a),t.val()&&e({type:"CREATE_MENU",payload:a})})})})},createImg:function(t,a){return e(function(e,t){return function(a,n,r){var l=r.getFirebase;console.log(e),console.log("id",t);var c=l(),s=n().firebase.profile.res_id;return"restaurantsLogo/".concat(s,"/logo"),c.storage().ref("platePhoto/".concat(s,"/").concat(t)).put(e).then(function(e){return c.storage().ref("platePhoto/".concat(s,"/").concat(t)).getDownloadURL().then(function(e){return a({type:"UPLOAD_PLATE_IMG",payload:e}),e})})}}(t,a))},deleteImg:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase;console.log("id",e);var l=r(),c=a().firebase.profile.res_id;return l.storage().ref("platePhoto/".concat(c,"/").concat(e)).delete()}}(t))}}}),o.g)(ht),ft=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={Form:!0,Menu:!1,SeatMap:!1},a.changeComponent=function(e){var t=a.state;t.Form="Form"===e,t.Menu="Menu"===e,t.SeatMap="SeatMap"===e,a.setState({newState:t})},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.auth;t.history;return a.uid?(this.state.Form?e=r.a.createElement(H,{changeComponent:this.changeComponent.bind(this)}):this.state.Menu?e=r.a.createElement(gt,{changeComponent:this.changeComponent.bind(this)}):this.state.SeatMap&&(e=r.a.createElement(st,{changeComponent:this.changeComponent.bind(this)})),console.log("showComponent",e),console.log("f",r.a.createElement(H,{changeComponent:this.changeComponent.bind(this)})),r.a.createElement("div",null,e)):r.a.createElement(o.a,{to:"/SignIn"})}}]),t}(n.Component),bt=Object(u.b)(function(e){return{auth:e.firebase.auth}})(ft),vt=a(6),Et=a(562),Ot=a(564),yt=a(560),Ct=a(563),jt=a(561),Nt=a(559),St=a(558),kt=a(565),wt=a(571);function At(){var e=r.a.useState(null),t=Object(de.a)(e,2),a=t[0],n=t[1],l=r.a.useState("Accepted"),c=Object(de.a)(l,2),s=c[0],o=c[1];return r.a.createElement("div",null,r.a.createElement(St.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)}},"Choose"),r.a.createElement(kt.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){n(null)}},r.a.createElement(wt.a,{onClick:function(e){n(e.currentTarget),o("Accepted"),n(null)}},"Accepted"),r.a.createElement(wt.a,{onClick:function(e){n(e.currentTarget),o("In Progress"),n(null)}},"In Progress"),r.a.createElement(wt.a,{onClick:function(e){n(e.currentTarget),o("Done"),n(null)}},"Done"),r.a.createElement(wt.a,{onClick:function(e){n(e.currentTarget),o("Cancel"),n(null)}},"Cancel")),r.a.createElement("div",{className:"left"},s))}var Pt=Object(vt.a)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,fontSize:14},body:{fontSize:14}}})(yt.a),Tt=Object(vt.a)(function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(jt.a);var xt=Object(k.a)(function(e){return{root:{width:"100%",marginLeft:"15px",marginTop:e.spacing(5),overflowX:"auto"},table:{minWidth:600}}});function Rt(e){var t=xt(),a=function(e){var t=[];return e.forEach(function(e){var a=e.orderDescription,n=e.comments,r=e.name,l=e.order_id,c=e.tableNumber,s=e.dateAndTime;t.push({orderID:l,orderDetails:a,dateHour:s,comment:n,custName:r,tableNum:c}),console.log("ok",e)}),console.log("rows",t),t}(e.orders);return r.a.createElement(Nt.a,{className:t.root,style:{marginBottom:"500px"}}," ",r.a.createElement(Et.a,{className:t.table},r.a.createElement(Ct.a,null,r.a.createElement(jt.a,null,r.a.createElement(Pt,{align:"left"},"Order Details:"),r.a.createElement(Pt,{align:"left"},"Date and Hour:"),r.a.createElement(Pt,{align:"left"},"Comments:"),r.a.createElement(Pt,{align:"left"},"Customer Name:"),r.a.createElement(Pt,{align:"left"},"Table Number:"),r.a.createElement(Pt,{align:"left"},"Status:"))),r.a.createElement(Ot.a,null,a.map(function(e){return r.a.createElement(Tt,{key:e.orderID.toString()},r.a.createElement(Pt,{align:"left"},e.orderDetails),r.a.createElement(Pt,{align:"left"},e.dateHour),r.a.createElement(Pt,{align:"left"},e.comment),r.a.createElement(Pt,{align:"left"},e.custName),r.a.createElement(Pt,{align:"left"},e.tableNum),r.a.createElement(Pt,{align:"right"},r.a.createElement(At,null)))}))))}var Mt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={orders:[{orderDescription:"",name:"",dateAndTime:"",tablenumber:null,order_id:""}]},a.destruct=function(e){var t=[],n={orderDescription:"",name:"",dateAndTime:"",tableNumber:"",order_id:"",comments:""};Object.keys(e).forEach(function(a){var r=e[a];Object.keys(r).forEach(function(e){var a=r[e];Object.keys(a).forEach(function(t){if("plates"===t){var r=a[t];Object.keys(r).forEach(function(e){var t=r[e];n.orderDescription+="".concat(t.amount," ").concat(t.plate)})}else{var l=a[t];n.name=l.name,n.dateAndTime=l.date+" "+l.time,n.tableNumber=l.tableNumber,n.comments=l.comments,n.order_id=e}}),t.push(n),n={orderDescription:"",name:"",dateAndTime:"",tableNumber:"",order_id:"",comments:""}})}),a.setState(Object(E.a)({},a.state,{orders:t}))},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){this.props.createOrder()}},{key:"componentDidMount",value:function(){this.props.orders&&this.destruct(this.props.orders)}},{key:"componentDidUpdate",value:function(e,t,a){console.log("componentDidUpdateorder"),this.props.orders!==e.orders&&this.props.orders&&this.destruct(this.props.orders)}},{key:"render",value:function(){var e=this.props,t=(e.orders,e.auth);return console.log(this.state),console.log("this.props.orders",this.props.orders),t.uid?r.a.createElement("div",null,r.a.createElement("section",{className:"section container scrollspy ",id:"OrdersStatus"},r.a.createElement("div",{className:"s1200 m5 l10"},r.a.createElement("form",null,r.a.createElement("h1",{className:"center"},"Orders Status"),r.a.createElement(Rt,{orders:this.state.orders}))))):r.a.createElement(o.a,{to:"/SignIn"})}}]),t}(n.Component),It=Object(u.b)(function(e){return{auth:e.firebase.auth,orders:e.order.orders}},function(e){return{createOrder:function(){return e(function(e,t,a){var n=(0,a.getFirebase)(),r=t().firebase.auth.uid;n.database().ref("BusinessUsers/".concat(r,"/res_id")).once("value").then(function(t){console.log("createOrderres_id",t.val()),n.database().ref("Orders/orders/".concat(t.val())).on("value",function(t){e({type:"CREATE_ORDER",payload:t.val()})})})})}}})(Mt),Bt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a.handleSignIn=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(o.a,{to:"/"}):r.a.createElement("section",{className:"section container scrollspy",id:"SignIn"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 l4 offset-l4 grey darken-4 ",style:{marginBottom:"200px"}},r.a.createElement("form",null,r.a.createElement("h5",{className:"white-text"},"Sign In"),r.a.createElement("div",{className:"input-field "},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",className:"white-text",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field white-text"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"white-text",id:"password",onChange:this.handleChange})),r.a.createElement(x,{handleSubmit:this.handleSignIn.bind(this)}),r.a.createElement("div",{className:"center red-text"},t?r.a.createElement("p",null,t):null)))))}}]),t}(n.Component),Ut=Object(u.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(Bt),Ft=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",FirstName:"",LastName:""},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a.handleSignUp=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement(o.a,{to:"/"}):r.a.createElement("section",{className:"section container scrollspy",id:"SignIn"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 l4 offset-l4 grey darken-4 ",style:{marginBottom:"150px"}},r.a.createElement("form",null,r.a.createElement("h5",{className:"white-text"},"Sign Up"),r.a.createElement("div",{className:"input-field "},r.a.createElement("label",{htmlFor:"FirstName"},"First Name"),r.a.createElement("input",{type:"text",className:"white-text",id:"FirstName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field "},r.a.createElement("label",{htmlFor:"LastName"},"Last Name"),r.a.createElement("input",{type:"text",className:"white-text",id:"LastName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field "},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",className:"white-text",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field white-text"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"white-text",id:"password",onChange:this.handleChange})),r.a.createElement(x,{handleSubmit:this.handleSignUp.bind(this)}),r.a.createElement("div",{className:"center red-text"},a?r.a.createElement("p",null,a):null)))))}}]),t}(n.Component),_t=Object(u.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signUp:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirebase)(),l=r.database().ref("restaurants").push().key;console.log(l),r.auth().createUserWithEmailAndPassword(a.email,a.password).then(function(e){return r.set("BusinessUsers/".concat(e.user.uid),{FirstName:a.FirstName,LastName:a.LastName,initials:a.FirstName[0]+a.LastName[0],res_id:l})}).then(function(){e({type:"SIGNUP_SUCCESS"})}).catch(function(t){e({type:"SIGNUP_ERROR",err:t})})}));var a}}})(Ft),Dt=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 l6"},r.a.createElement("div",{className:"card medium"},r.a.createElement("div",{class:"card-image"},r.a.createElement("img",{src:"img/curry.jpg",className:"Rice",alt:""})),r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Curry"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean quis aliquam orci. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."))))))}}]),t}(n.Component),Lt=a(270),Wt=a.n(Lt),zt=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"About"},r.a.createElement("img",{src:Wt.a,alt:"who are we",style:{width:"800px",height:"600px",marginLeft:250}}))}}]),t}(n.Component),Ht=a(271),Gt=a.n(Ht),Yt=a(272),Xt=a.n(Yt),Jt=a(273),qt=a.n(Jt),$t=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("img",{src:Gt.a,alt:"meet restabar",style:{width:"600px",height:"100px",marginLeft:350}}),r.a.createElement("img",{src:Xt.a,alt:"restaurateurs",style:{width:"350px",height:"500px",marginTop:15,marginLeft:300}}),r.a.createElement("img",{src:qt.a,alt:"customers",style:{width:"350px",height:"500px",marginTop:15,marginLeft:100}}))}}]),t}(n.Component);var Kt=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(m,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/RestaBar",component:bt}),r.a.createElement(o.b,{path:"/OrderStatus",component:It}),r.a.createElement(o.b,{path:"/SignIn",component:Ut}),r.a.createElement(o.b,{path:"/SignUp",component:_t}),r.a.createElement(o.b,{path:"/Plate",component:Dt}),r.a.createElement(o.b,{path:"/About",component:zt}),r.a.createElement(o.b,{path:"/Finish",component:nt}),r.a.createElement(o.b,{path:"/",component:$t}))),r.a.createElement(p,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Vt={authError:null},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(E.a)({},e,{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),{authError:null};case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(E.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(E.a)({},e,{authError:t.err.message});default:return e}},Qt={},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ORDER":return Object(E.a)({},e,{orders:t.payload});case"CLEAR_ORDER":return Qt;default:return e}},ta={},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_RESTAURANT":return Object(E.a)({},e,{restaurant:t.payload});case"UPLOAD_LOGO":return console.log(t),Object(E.a)({},e,{percentage:t.payload});case"UPLOAD_PHOTOS":return console.log(t),Object(E.a)({},e,{images:t.payload});case"PERCENTAGE_PHOTOS":return console.log(t),Object(E.a)({},e,{imagesPercentage:t.payload});case"CREATE_MENU":return Object(E.a)({},e,{menu:t.payload});case"UPLOAD_PLATE_IMG":return console.log(t.payload),Object(E.a)({},e,{currentImg:t.payload});case"CREATE_SEATMAP":return Object(E.a)({},e,{seatMap:t.payload});case"CLEAR_RESTAURANT":return ta;default:return e}};console.log("isLoaded",ye.firebaseReducer);var na=Object(y.c)({auth:Zt,order:ea,firebase:ye.firebaseReducer,restaurant:aa}),ra=a(274),la=Object(y.e)(na,Object(y.d)(Object(y.a)(ra.a.withExtraArgument({getFirebase:ye.getFirebase})),Object(ye.reactReduxFirebase)(Se,{attachAuthIsReady:!0,userProfile:"BusinessUsers"})));la.firebaseAuthIsReady.then(function(){c.a.render(r.a.createElement(u.a,{store:la},r.a.createElement(Kt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})})}},[[284,1,2]]]);
//# sourceMappingURL=main.5a656c8b.chunk.js.map